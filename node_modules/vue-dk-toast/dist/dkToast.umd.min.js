(function(p,_){typeof exports=="object"&&typeof module!="undefined"?module.exports=_():typeof define=="function"&&define.amd?define(_):(p=typeof globalThis!="undefined"?globalThis:p||self,p["vue-dk-toast"]=_())})(this,function(){"use strict";const p=i=>console.error(`vue-dk-toast [Error]: ${i}`),_=i=>console.warn(`vue-dk-toast [Warn]: ${i}`);function P(i){var e,t;/^(?:left|right|center)$/.test((e=i.positionX)!=null?e:"")||p(`positionX must be either "left", "right" or "center", received "${i.positionX}"`),/^(?:top|bottom)$/.test((t=i.positionY)!=null?t:"")||p(`positionY must be either "top" or "bottom", received "${i.positionY}"`)}function S(i,e){let t=!0;return!i&&!e.slotLeft&&!e.slotRight&&!e.slot&&(p("a text/slot value is required"),t=!1),e.slot&&_("slot is now deprecated. Use slotRight instead"),t}const b=150;function X(i){let e=!1,t=!1;function o(n){return/[\.@#]/.test(n)&&!t&&(e=!0),/[,\{]/.test(n)&&e&&(e=!1),n===":"&&!e&&(t=!0),n===";"&&!e&&(t=!1),/\s/.test(n)&&!e&&!t?"":n}return i.split("").map(o).join("").replace(" {","{").replace(": ",":")}function h(i){const e=i||{};function t(o){return`${o.split("").map((n,u)=>n==="-"?n:/^(?:webkit|moz|ms)/.test(o)&&u===0||n===n.toUpperCase()?`-${n.toLowerCase()}`:n).join("")}: ${e[o]};`}return Object.keys(e).map(t).join("")}function D(i){const{styles:e,positionY:t}=i,o=h(e),a=`animation: dk__toast-in ${b/1e3}s`,n=document.createElement("style");n.type="text/css",n.textContent=X(`
    .dk__toast-container {
      pointer-events: none;
      display: grid;
      grid-template-areas: "top-left top-center top-right" "bottom-left bottom-center bottom-right";
      grid-template-columns: repeat(3, 33%);
      grid-template-rows: repeat(2, 50%);
      gap: 10px;
      position: fixed;
      top: 0;
      left: 0;
      padding: 20px;
      height: calc(100vh - 40px);
      width: calc(100vw - 40px);
      z-index: 10000;
    }
    .dk__toast-mobile-container {
      pointer-events: none;
      visibility: hidden;
      position: fixed;
    }
    .dk__toast-section {
      display: -webkit-box;
      display: -ms-flexbox;
      display: flex;
      -webkit-box-orient: vertical;
      -webkit-box-direction: normal;
      -ms-flex-direction: column;
      flex-direction: column;
    }
    .dk__toast {
      ${i.disableClick?"":"cursor: pointer;"}
      pointer-events: all;
      display: -webkit-box;
      display: -ms-flexbox;
      display: flex;
      -ms-flex-pack: distribute;
      justify-content: space-around;
      -webkit-box-align: center;
      -ms-flex-align: center;
      align-items: center;
      position: relative;
      margin: 5px 0;
      padding: 7px 40px;
      min-width: 170px;
      font: 17px Avenir, sans-serif;
      text-align: center;
      word-break: break-word;
      border-radius: 5px;
      background: #fff;
      -webkit-box-shadow: 0 1px 3px #000;
      box-shadow: 0 1px 3px #000;
      -webkit-transition: opacity 0.25s;
      -o-transition: opacity 0.25s;
      transition: opacity 0.25s;
      ${o||""}
    }
    .dk__toast-anim--in {
      ${a};
    }
    .dk__toast-anim--out {
      ${a} reverse forwards;
    }
    .dk__toast-top-left {
      grid-area: top-left;
    }
    .dk__toast-top-center {
      grid-area: top-center;
    }
    .dk__toast-top-right {
      grid-area: top-right;
    }
    .dk__toast-bottom-left {
      grid-area: bottom-left;
      justify-content: flex-end;
    }
    .dk__toast-bottom-center {
      grid-area: bottom-center;
      justify-content: flex-end;
    }
    .dk__toast-bottom-right {
      grid-area: bottom-right;
      justify-content: flex-end;
    }
    ${i.disableClick?"":".dk__toast:hover { opacity: 0.7; }"}
    .dk__icon-left,
    .dk__icon-right {
      display: flex;
      position: absolute;
      padding: 5px 12px;
    }
    .dk__icon-left {
      left: 0;
    }
    .dk__icon-right {
      right: 0;
    }
    .dk__icon-left i,
    .dk__icon-left span,
    .dk__icon-right i,
    .dk__icon-right span {
      font-size: 16px;
    }
    .dk__icon-only {
      padding: 6px 0;
    }
    .dk__icon-only .dk__icon-left,
    .dk__icon-only .dk__icon-right {
      display: flex;
      position: relative;
      right: unset;
      left: unset;
      padding: 4px;
    }
    .dk__click-disabled {
      cursor: default;
      opacity: 1;
    }
    .dk__click-disabled:hover {
      opacity: 1;
    }
    .dk__error {
      background-color: rgb(255, 0, 0);
      color: #fff;
    }
    .dk__success {
      background-color: rgb(31, 218, 56);
      color: #fff;
    }
    .dk__passive {
      background-color: rgb(31, 59, 218);
      color: #fff;
    }
    @-webkit-keyframes dk__toast-in {
      from {
        -webkit-transform: translateY(100%);
        transform: translateY(100%);
        opacity: 0;
      }
      to {
        -webkit-transform: translateY(0);
        transform: translateY(0);
        opacity: 1;
      }
    }
    @keyframes dk__toast-in {
      from {
        -webkit-transform: translateY(100%);
        transform: translateY(100%);
        opacity: 0;
      }
      to {
        -webkit-transform: translateY(0);
        transform: translateY(0);
        opacity: 1;
      }
    }
    @media only screen and (max-width: 810px) {
      .dk__toast-container {
        visibility: hidden;
      }
      .dk__toast-mobile-container {
        visibility: visible;
        display: grid;
        grid-template-areas: "top" "bottom";
        grid-template-rows: 50% 50%;
        grid-template-columns: 100%;
        top: 0;
        left: 0;
        padding: 20px;
        height: calc(100vh - 40px);
        width: calc(100vw - 40px);
        z-index: 10000;
      }
      .dk__toast-mobile-top { grid-area: top; }
      .dk__toast-mobile-bottom { 
        grid-area: bottom;
        align-self: end;
      }
    }
    @media only screen and (max-width: 450px) {
      .dk__toast-section {
        right: 0;
        left: 0;
        ${t}: 10px;
        margin: 0 auto;
        width: 90%;
        transform: none;
      }
      .dk__toast {
        padding: 10px 40px;
      }
      .dk__icon-only {
        padding: 8px 30px;
      }
    }
  `),document.head.appendChild(n)}const k=[];function g(i,e,t){i.className=e,t.appendChild(i)}function q(i,e,t){var c,f;const o=(c=t.link)!=null&&c.href?document.createElement("a"):document.createElement("div"),a=t.slotLeft,n=t.slot||t.slotRight;if((f=t.link)!=null&&f.href){const s=o;s.href=t.link.href,s.rel="noopener",t.link.targetBlank&&(s.target="_blank")}o.className="dk__toast";function u(s){!s.class||(typeof s.class=="string"?o.classList.add(s.class):Array.isArray(s.class)&&o.classList.add(...s.class))}u(e),u(t),t.type&&o.classList.add(`dk__${t.type}`),o.setAttribute("role","status"),o.setAttribute("aria-live","polite"),o.setAttribute("aria-atomic","false"),i&&(o.textContent=i),a&&(o.innerHTML=`<div class="dk__icon-left">${a}</div>${o.innerHTML}`),n&&(o.innerHTML+=`<div class="dk__icon-right">${n}</div>`),!i&&(a||n)&&o.classList.add("dk__icon-only");const r=t.styles||e.styles;return o.setAttribute("style",h(r)),t.disableClick&&o.classList.add("dk__click-disabled"),o}function z(i,e){const t=document.createElement("div"),o=document.createElement("div");g(t,"dk__toast-container",document.body),g(o,"dk__toast-mobile-container",document.body);function a(n,u){var Y,H,j,A;const r=u||{};if(!r||!S(n,r))return;const c={y:r.positionY||e.positionY,x:r.positionX||e.positionX},f=document.querySelector(`.dk__toast-${c.y}-${c.x}`)||document.createElement("div"),s=document.querySelector(`.dk__toast-mobile-${c.y}`)||document.createElement("div"),M=document.querySelectorAll(".dk__toast").length/2;if(e.max&&M>=e.max){const l=k[0][0],N=k[0][1];(Y=l.parentElement)==null||Y.removeChild(l),(H=N.parentElement)==null||H.removeChild(N),k.shift()}if(!f.className){const l=`dk__toast-section dk__toast-${c.y}-${c.x}`;g(f,l,t)}if(!s.className){const l=`dk__toast-mobile-section dk__toast-mobile-${c.y}`;g(s,l,o)}const y=(j=r.duration)!=null?j:e.duration,d=q(n,e,r),m=d.cloneNode(!0),x="dk__toast-anim--in";d.classList.add(x),m.classList.add(x);let $;function v(l){l&&($=!0),[...f.children].includes(d)&&f.removeChild(d),[...s.children].includes(m)&&s.removeChild(m),k.shift()}if(!e.disableClick&&!r.disableClick&&(d.addEventListener("click",v),m.addEventListener("click",v)),k.push([d,m]),f.appendChild(d),s.appendChild(m),setTimeout(()=>{d.classList.remove(x),m.classList.remove(x)},b),!y)return;const R=Date.now(),C="dk__toast-anim--out";let L,E=0;function T(l){L=window.setTimeout(()=>{$||(d.classList.add(C),m.classList.add(C),setTimeout(v,b))},l-b)}((A=r.pauseOnHover)!=null?A:e.pauseOnHover)&&(d.addEventListener("mouseover",()=>{clearTimeout(L),E=Date.now()-R}),d.addEventListener("mouseout",()=>{T(y-E)})),T(y)}i.config.globalProperties.$toast=a,i.provide("$toast",a)}const w={install(i,e){const t=e||{};t.duration===void 0&&(t.duration=5e3),t.pauseOnHover===void 0&&(t.pauseOnHover=!0),t.positionY||(t.positionY="bottom"),t.positionX||(t.positionX="right"),P(t),D(t),z(i,t)}};return window!==void 0&&"Vue"in window&&(window.DKToast=w),w});
