{"ast":null,"code":"import \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.array.find-index.js\";\nimport json from \"../assets/json/cards.json\";\nimport { useRoute } from \"vue-router\";\nexport default {\n  name: \"SCC0219TrabalhoWebItemPageView\",\n  data: function data() {\n    return {\n      router: useRoute(),\n      card: json[Math.floor(Math.random() * json.length)],\n      cards: json,\n      qtd: 1,\n      admin: false\n    };\n  },\n  mounted: function mounted() {\n    this.admin = localStorage.admin;\n  },\n  methods: {\n    scrollToTop: function scrollToTop(id) {\n      window.scrollTo(0, 0);\n      this.card = json.filter(function (obj) {\n        if (obj.id == id) return obj;\n      });\n    },\n    addToCart: function addToCart(card, qtd) {\n      card = JSON.parse(JSON.stringify(card));\n      var cart = localStorage.cart == \"\" ? [] : JSON.parse(localStorage.cart);\n      var index = cart.findIndex(function (c) {\n        return c.card.id == card.id;\n      });\n\n      if (index != -1) {\n        cart[index].qtd += qtd;\n      } else {\n        cart.push({\n          card: card,\n          qtd: qtd\n        });\n      }\n\n      localStorage.cart = JSON.stringify(cart);\n    },\n    getCardHighPrice: function getCardHighPrice(card) {\n      if (card.tcgplayer == null) return 6.5;\n      if (card.tcgplayer.prices == null) return 6.5;\n      if (card.tcgplayer.prices.holofoil != null) return card.tcgplayer.prices.holofoil.market;\n      if (card.tcgplayer.prices.normal != null) return card.tcgplayer.prices.normal.market;\n      return 6.5;\n    },\n    getCardLowPrice: function getCardLowPrice(card) {\n      if (card.tcgplayer == null) return 5.5;\n      if (card.tcgplayer.prices == null) return 5.5;\n      if (card.tcgplayer.prices.holofoil != null) return card.tcgplayer.prices.holofoil.low;\n      if (card.tcgplayer.prices.normal != null) return card.tcgplayer.prices.normal.low;\n      return 5.5;\n    }\n  }\n};","map":{"version":3,"mappings":";;;;AA+CA,OAAOA,IAAP,MAAiB,2BAAjB;AACA,SAASC,QAAT,QAAyB,YAAzB;AAEA,eAAe;EACbC,IAAI,EAAE,gCADO;EAGbC,IAHa,kBAGN;IACL,OAAO;MACLC,MAAM,EAAEH,QAAQ,EADX;MAELI,IAAI,EAAEL,IAAI,CAACM,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBR,IAAI,CAACS,MAAhC,CAAD,CAFL;MAGLC,KAAK,EAAEV,IAHF;MAILW,GAAG,EAAE,CAJA;MAKLC,KAAK,EAAE;IALF,CAAP;EAOD,CAXY;EAabC,OAba,qBAaH;IACR,KAAKD,KAAL,GAAaE,YAAY,CAACF,KAA1B;EACD,CAfY;EAiBbG,OAAO,EAAE;IACPC,WADO,uBACKC,EADL,EACS;MACdC,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;MACA,KAAKd,IAAL,GAAYL,IAAI,CAACoB,MAAL,CAAY,UAAUC,GAAV,EAAe;QACrC,IAAIA,GAAG,CAACJ,EAAJ,IAAUA,EAAd,EAAkB,OAAOI,GAAP;MACnB,CAFW,CAAZ;IAGD,CANM;IAOPC,SAPO,qBAOGjB,IAPH,EAOSM,GAPT,EAOc;MACnBN,IAAG,GAAIkB,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAepB,IAAf,CAAX,CAAP;MACA,IAAIqB,IAAG,GAAIZ,YAAY,CAACY,IAAb,IAAqB,EAArB,GAA0B,EAA1B,GAA+BH,IAAI,CAACC,KAAL,CAAWV,YAAY,CAACY,IAAxB,CAA1C;MACA,IAAIC,KAAI,GAAID,IAAI,CAACE,SAAL,CAAe,UAACC,CAAD;QAAA,OAAOA,CAAC,CAACxB,IAAF,CAAOY,EAAP,IAAaZ,IAAI,CAACY,EAAzB;MAAA,CAAf,CAAZ;;MACA,IAAIU,KAAI,IAAK,CAAC,CAAd,EAAiB;QACfD,IAAI,CAACC,KAAD,CAAJ,CAAYhB,GAAZ,IAAmBA,GAAnB;MACF,CAFA,MAEO;QACLe,IAAI,CAACI,IAAL,CAAU;UAAEzB,IAAI,EAAEA,IAAR;UAAcM,GAAG,EAAEA;QAAnB,CAAV;MACF;;MACAG,YAAY,CAACY,IAAb,GAAoBH,IAAI,CAACE,SAAL,CAAeC,IAAf,CAApB;IACD,CAjBM;IAkBPK,gBAlBO,4BAkBU1B,IAlBV,EAkBgB;MACrB,IAAIA,IAAI,CAAC2B,SAAL,IAAkB,IAAtB,EAA4B,OAAO,GAAP;MAC5B,IAAI3B,IAAI,CAAC2B,SAAL,CAAeC,MAAf,IAAyB,IAA7B,EAAmC,OAAO,GAAP;MACnC,IAAI5B,IAAI,CAAC2B,SAAL,CAAeC,MAAf,CAAsBC,QAAtB,IAAkC,IAAtC,EACE,OAAO7B,IAAI,CAAC2B,SAAL,CAAeC,MAAf,CAAsBC,QAAtB,CAA+BC,MAAtC;MACF,IAAI9B,IAAI,CAAC2B,SAAL,CAAeC,MAAf,CAAsBG,MAAtB,IAAgC,IAApC,EACE,OAAO/B,IAAI,CAAC2B,SAAL,CAAeC,MAAf,CAAsBG,MAAtB,CAA6BD,MAApC;MACF,OAAO,GAAP;IACD,CA1BM;IA2BPE,eA3BO,2BA2BShC,IA3BT,EA2Be;MACpB,IAAIA,IAAI,CAAC2B,SAAL,IAAkB,IAAtB,EAA4B,OAAO,GAAP;MAC5B,IAAI3B,IAAI,CAAC2B,SAAL,CAAeC,MAAf,IAAyB,IAA7B,EAAmC,OAAO,GAAP;MACnC,IAAI5B,IAAI,CAAC2B,SAAL,CAAeC,MAAf,CAAsBC,QAAtB,IAAkC,IAAtC,EACE,OAAO7B,IAAI,CAAC2B,SAAL,CAAeC,MAAf,CAAsBC,QAAtB,CAA+BI,GAAtC;MACF,IAAIjC,IAAI,CAAC2B,SAAL,CAAeC,MAAf,CAAsBG,MAAtB,IAAgC,IAApC,EACE,OAAO/B,IAAI,CAAC2B,SAAL,CAAeC,MAAf,CAAsBG,MAAtB,CAA6BE,GAApC;MACF,OAAO,GAAP;IACD;EAnCM;AAjBI,CAAf","names":["json","useRoute","name","data","router","card","Math","floor","random","length","cards","qtd","admin","mounted","localStorage","methods","scrollToTop","id","window","scrollTo","filter","obj","addToCart","JSON","parse","stringify","cart","index","findIndex","c","push","getCardHighPrice","tcgplayer","prices","holofoil","market","normal","getCardLowPrice","low"],"sourceRoot":"","sources":["/home/dead/trabalho_web/SCC0219_Trabalho_Web/src/views/CardOfTheDayView.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div id=\"item-page-container\">\r\n      <h1\r\n        class=\"titles\"\r\n        style=\"font-size: 200%; margin-left: 10%; margin-bottom: 2%\"\r\n      >\r\n        Card of the Day\r\n      </h1>\r\n      <div id=\"item-container\">\r\n        <div id=\"item-img\">\r\n          <img :src=\"card.images.small\" :alt=\"card.name\" class=\"card-image\" />\r\n        </div>\r\n        <div id=\"item-info\">\r\n          <h1>{{ card.name }}</h1>\r\n          <h2 class=\"item-price\">${{ getCardLowPrice(card) }}</h2>\r\n          <h3>Attacks</h3>\r\n          <p v-for=\"atack in card.attacks\" v-bind:key=\"atack.name\">\r\n            <b>{{ atack.name }}</b> {{ atack.text }}\r\n          </p>\r\n          <div id=\"edit-item\" v-if=\"admin == 'true'\">\r\n            <input v-model=\"qtd\" type=\"number\" min=\"0\" max=\"10\" readonly />\r\n            <button\r\n              @click=\"\r\n                $router.push({\r\n                  name: 'editCard',\r\n                  query: { id: card.id },\r\n                })\r\n              \"\r\n            >\r\n              <i class=\"fa fa-shopping-cart\"></i>\r\n              Edit Item\r\n            </button>\r\n          </div>\r\n          <div id=\"itemAddCart\" v-else>\r\n            <input v-model=\"qtd\" type=\"number\" min=\"0\" max=\"10\" />\r\n            <button @click=\"addToCart(this.card, this.qtd)\">\r\n              <i class=\"fa fa-shopping-cart\"></i>\r\n              Add to Cart\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport json from \"../assets/json/cards.json\";\r\nimport { useRoute } from \"vue-router\";\r\n\r\nexport default {\r\n  name: \"SCC0219TrabalhoWebItemPageView\",\r\n\r\n  data() {\r\n    return {\r\n      router: useRoute(),\r\n      card: json[Math.floor(Math.random() * json.length)],\r\n      cards: json,\r\n      qtd: 1,\r\n      admin: false,\r\n    };\r\n  },\r\n\r\n  mounted() {\r\n    this.admin = localStorage.admin;\r\n  },\r\n\r\n  methods: {\r\n    scrollToTop(id) {\r\n      window.scrollTo(0, 0);\r\n      this.card = json.filter(function (obj) {\r\n        if (obj.id == id) return obj;\r\n      });\r\n    },\r\n    addToCart(card, qtd) {\r\n      card = JSON.parse(JSON.stringify(card));\r\n      let cart = localStorage.cart == \"\" ? [] : JSON.parse(localStorage.cart);\r\n      let index = cart.findIndex((c) => c.card.id == card.id);\r\n      if (index != -1) {\r\n        cart[index].qtd += qtd;\r\n      } else {\r\n        cart.push({ card: card, qtd: qtd });\r\n      }\r\n      localStorage.cart = JSON.stringify(cart);\r\n    },\r\n    getCardHighPrice(card) {\r\n      if (card.tcgplayer == null) return 6.5;\r\n      if (card.tcgplayer.prices == null) return 6.5;\r\n      if (card.tcgplayer.prices.holofoil != null)\r\n        return card.tcgplayer.prices.holofoil.market;\r\n      if (card.tcgplayer.prices.normal != null)\r\n        return card.tcgplayer.prices.normal.market;\r\n      return 6.5;\r\n    },\r\n    getCardLowPrice(card) {\r\n      if (card.tcgplayer == null) return 5.5;\r\n      if (card.tcgplayer.prices == null) return 5.5;\r\n      if (card.tcgplayer.prices.holofoil != null)\r\n        return card.tcgplayer.prices.holofoil.low;\r\n      if (card.tcgplayer.prices.normal != null)\r\n        return card.tcgplayer.prices.normal.low;\r\n      return 5.5;\r\n    },\r\n  },\r\n};\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}