{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.function.name.js\";\nexport default {\n  name: \"SCC0219TrabalhoWebChangeInfoView\",\n  data: function data() {\n    return {\n      username: \"\",\n      userName: \"\",\n      userEmail: \"\",\n      email: \"\",\n      password: \"\",\n      cpassword: \"\",\n      postalcode: \"\",\n      street: \"\",\n      number: \"\",\n      city: \"\",\n      state: \"\",\n      country: \"\",\n      phone: \"\",\n      addressDetails: \"\",\n      isAdmin: false\n    };\n  },\n  mounted: function mounted() {\n    this.userName = localStorage.userName;\n    this.userEmail = localStorage.userEmail;\n    this.getUserData();\n  },\n  methods: {\n    editInformation: function editInformation() {\n      var _this = this;\n\n      // Checar se as senhas fornecidas nos 2 campos de senha são iguais\n      if (this.password != this.cpassword) {\n        alert(\"As senhas fornecidas nos campos de senha e confirmar senha não são iguais!\");\n        return;\n      }\n\n      fetch(\"http://127.0.0.1:3000/user/updateUserByEmail\", {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          name: this.username,\n          email: this.email,\n          password: this.password,\n          postalCode: this.postalcode,\n          street: this.street,\n          number: this.number,\n          addressDetails: this.addressDetails,\n          city: this.city,\n          state: this.state,\n          country: this.country,\n          phoneNumber: this.phone,\n          isAdmin: this.isAdmin\n        })\n      }).then(function (res) {\n        res.json().then(function (response) {\n          // Cadastro realizado!\n          localStorage.userName = _this.username; // alert(\"Informações de pefil atualizadas com sucesso!\");\n          // window.location.href = \"/\";\n\n          _this.$router.push({\n            name: \"home\",\n            query: {\n              arg: \"4\"\n            }\n          });\n        });\n      })[\"catch\"](function (a) {\n        return console.log(a);\n      });\n      /*this.username += \"\\n\";\n      this.email += \"\\n\";\n      this.password += \"\\n\";\n      this.postalcode += \"\\n\";\n      this.street += \"\\n\";\n      this.number += \"\\n\";\n      this.city += \"\\n\";\n      this.state += \"\\n\";\n      this.country += \"\\n\";\n      this.phone += \"\\n\";\n      this.addressDetails += \"\\n\";\n      alert(\n        \"Voce mudou as seguintes informacoes de perfil:\\n\" +\n          \"Username: \" +\n          this.username +\n          \"Email: \" +\n          this.email +\n          \"Password: \" +\n          this.password +\n          \"Postal Code: \" +\n          this.postalcode +\n          \"Street: \" +\n          this.street +\n          \"Number: \" +\n          this.number +\n          \"Adrress Details: \" +\n          this.addressDetails +\n          \"City: \" +\n          this.city +\n          \"State: \" +\n          this.state +\n          \"Country: \" +\n          this.country +\n          \"Phone: \" +\n          this.phone\n      );*/\n    },\n    getUserData: function getUserData() {\n      var _this2 = this;\n\n      console.log(localStorage.userEmail);\n      fetch(\"http://127.0.0.1:3000/user/getUser\", {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          email: this.userEmail\n        })\n      }).then(function (res) {\n        res.json().then(function (response) {\n          // Recebeu as informações do usuário com sucesso!\n          _this2.username = response.name;\n          _this2.email = response.email;\n          _this2.postalcode = response.postalCode;\n          _this2.street = response.street;\n          _this2.number = response.number;\n          _this2.addressDetails = response.addressDetails;\n          _this2.city = response.city;\n          _this2.state = response.state;\n          _this2.country = response.country;\n          _this2.phone = response.phoneNumber;\n          _this2.isAdmin = response.isAdmin;\n        })[\"catch\"](function (err) {\n          // Request failed\n          console.log(\"Erro: \" + err);\n        });\n      })[\"catch\"](function (err) {\n        err.json().then(function (error) {\n          console.log(\"Erro: \" + err);\n        });\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["name","data","username","userName","userEmail","email","password","cpassword","postalcode","street","number","city","state","country","phone","addressDetails","isAdmin","mounted","localStorage","getUserData","methods","editInformation","alert","fetch","method","headers","Accept","body","JSON","stringify","postalCode","phoneNumber","then","res","json","response","$router","push","query","arg","a","console","log","err","error"],"sourceRoot":"","sources":["/home/dead/trabalho_web/SCC0219_Trabalho_Web/src/views/ChangeInfoView.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"sign-in-out\">\n      <div class=\"sign-in\">\n        <p class=\"title\">\n          Change your profile information here, {{ this.userName ?? \"Usuário\" }}\n        </p>\n        <br /><br />\n        On this page you can change any of the informations of your profile,\n        just enter the new information on the side and press the button \"Save\n        Changes\" at the end of the page! If you do not wish to change any data\n        just leave the spaces blank.\n\n        <img src=\"../assets/img/treinador.png\" />\n      </div>\n      <div class=\"sign-up\">\n        <p class=\"title\">Profile</p>\n        <br />\n        <form class=\"form-sign-up\" v-on:submit.prevent=\"editInformation()\">\n          Username\n          <div class=\"input-container\">\n            <i class=\"fa fa-user icon\"></i>\n            <input\n              class=\"input-field\"\n              type=\"text\"\n              placeholder=\"Type your new username here\"\n              name=\"name\"\n              v-model=\"username\"\n              required\n            />\n          </div>\n          Email\n          <div class=\"input-container\">\n            <i class=\"fa fa-envelope icon\"></i>\n            <input\n              class=\"input-field\"\n              type=\"text\"\n              placeholder=\"email@provider.com\"\n              name=\"email\"\n              v-model=\"email\"\n              required\n              disabled\n            />\n          </div>\n          Password\n          <div class=\"input-container\">\n            <i class=\"fa fa-key icon\"></i>\n            <input\n              class=\"input-field\"\n              type=\"password\"\n              placeholder=\"Type your new password here\"\n              name=\"psw\"\n              v-model=\"password\"\n              required\n            />\n          </div>\n\n          Confirm Password\n          <div class=\"input-container\">\n            <i class=\"fa fa-key icon\"></i>\n            <input\n              class=\"input-field\"\n              type=\"password\"\n              placeholder=\"Type your new password again here\"\n              name=\"cpsw\"\n              v-model=\"cpassword\"\n              required\n            />\n          </div>\n\n          <br />\n          <h1>Change Address</h1>\n          <br />\n\n          Postal Code\n          <div class=\"input-container\">\n            <i class=\"fas fa-envelope-open-text icon\"></i>\n            <input\n              class=\"input-field\"\n              type=\"text\"\n              placeholder=\"XXXXX-XXX\"\n              v-maska=\"'XXXXX-XXX'\"\n              name=\"postcode\"\n              v-model=\"postalcode\"\n            />\n          </div>\n\n          Street\n          <div class=\"input-container\">\n            <i class=\"fas fa-road icon\"></i>\n            <input\n              class=\"input-field\"\n              type=\"text\"\n              placeholder=\"Type your new street name\"\n              name=\"street\"\n              v-model=\"street\"\n            />\n          </div>\n\n          Number\n          <div class=\"input-container\">\n            <i class=\"fas fa-sort-numeric-down icon\"></i>\n            <input\n              class=\"input-field\"\n              type=\"text\"\n              placeholder=\"XX-XXX\"\n              v-maska=\"'XX-XXX'\"\n              name=\"num\"\n              v-model=\"number\"\n            />\n          </div>\n\n          Address Details\n          <div class=\"input-container\">\n            <i class=\"fas fa-city icon\"></i>\n            <input\n              class=\"input-field\"\n              type=\"text\"\n              placeholder=\"Any additional detail about the address\"\n              name=\"addressDetails\"\n              v-model=\"addressDetails\"\n            />\n          </div>\n\n          City\n          <div class=\"input-container\">\n            <i class=\"fas fa-city icon\"></i>\n            <input\n              class=\"input-field\"\n              type=\"text\"\n              placeholder=\"Type the name of your new city\"\n              name=\"city\"\n              v-model=\"city\"\n            />\n          </div>\n\n          State\n          <div class=\"input-container\">\n            <i class=\"fas fa-building icon\"></i>\n            <input\n              class=\"input-field\"\n              type=\"text\"\n              placeholder=\"Type your new country state\"\n              name=\"state\"\n              v-model=\"state\"\n            />\n          </div>\n\n          Country\n          <div class=\"input-container\">\n            <i class=\"fas fa-flag icon\"></i>\n            <input\n              class=\"input-field\"\n              type=\"text\"\n              placeholder=\"Type your new contry name\"\n              name=\"country\"\n              v-model=\"country\"\n            />\n          </div>\n\n          Phone\n          <div class=\"input-container\">\n            <i class=\"fas fa-phone icon\"></i>\n            <input\n              class=\"input-field\"\n              type=\"text\"\n              placeholder=\"(DDD) XXXXX-XXXX\"\n              v-maska=\"'(XX) XXXXX-XXXX'\"\n              name=\"phone\"\n              v-model=\"phone\"\n            />\n          </div>\n\n          <button type=\"submit\" class=\"btn\">Save Changes</button>\n        </form>\n      </div>\n    </div>\n    <br />\n  </div>\n</template>\n<script>\nexport default {\n  name: \"SCC0219TrabalhoWebChangeInfoView\",\n\n  data() {\n    return {\n      username: \"\",\n      userName: \"\",\n      userEmail: \"\",\n      email: \"\",\n      password: \"\",\n      cpassword: \"\",\n      postalcode: \"\",\n      street: \"\",\n      number: \"\",\n      city: \"\",\n      state: \"\",\n      country: \"\",\n      phone: \"\",\n      addressDetails: \"\",\n      isAdmin: false,\n    };\n  },\n\n  mounted() {\n    this.userName = localStorage.userName;\n    this.userEmail = localStorage.userEmail;\n    this.getUserData();\n  },\n\n  methods: {\n    editInformation() {\n      // Checar se as senhas fornecidas nos 2 campos de senha são iguais\n      if (this.password != this.cpassword) {\n        alert(\n          \"As senhas fornecidas nos campos de senha e confirmar senha não são iguais!\"\n        );\n        return;\n      }\n\n      fetch(\"http://127.0.0.1:3000/user/updateUserByEmail\", {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          name: this.username,\n          email: this.email,\n          password: this.password,\n          postalCode: this.postalcode,\n          street: this.street,\n          number: this.number,\n          addressDetails: this.addressDetails,\n          city: this.city,\n          state: this.state,\n          country: this.country,\n          phoneNumber: this.phone,\n          isAdmin: this.isAdmin,\n        }),\n      })\n        .then((res) => {\n          res.json().then((response) => {\n            // Cadastro realizado!\n            localStorage.userName = this.username;\n            // alert(\"Informações de pefil atualizadas com sucesso!\");\n            // window.location.href = \"/\";\n            this.$router.push({\n              name: \"home\",\n              query: { arg: \"4\" },\n            });\n          });\n        })\n        .catch((a) => console.log(a));\n\n      /*this.username += \"\\n\";\n      this.email += \"\\n\";\n      this.password += \"\\n\";\n      this.postalcode += \"\\n\";\n      this.street += \"\\n\";\n      this.number += \"\\n\";\n      this.city += \"\\n\";\n      this.state += \"\\n\";\n      this.country += \"\\n\";\n      this.phone += \"\\n\";\n      this.addressDetails += \"\\n\";\n      alert(\n        \"Voce mudou as seguintes informacoes de perfil:\\n\" +\n          \"Username: \" +\n          this.username +\n          \"Email: \" +\n          this.email +\n          \"Password: \" +\n          this.password +\n          \"Postal Code: \" +\n          this.postalcode +\n          \"Street: \" +\n          this.street +\n          \"Number: \" +\n          this.number +\n          \"Adrress Details: \" +\n          this.addressDetails +\n          \"City: \" +\n          this.city +\n          \"State: \" +\n          this.state +\n          \"Country: \" +\n          this.country +\n          \"Phone: \" +\n          this.phone\n      );*/\n    },\n    getUserData() {\n      console.log(localStorage.userEmail);\n      fetch(\"http://127.0.0.1:3000/user/getUser\", {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          email: this.userEmail,\n        }),\n      })\n        .then((res) => {\n          res\n            .json()\n            .then((response) => {\n              // Recebeu as informações do usuário com sucesso!\n              this.username = response.name;\n              this.email = response.email;\n              this.postalcode = response.postalCode;\n              this.street = response.street;\n              this.number = response.number;\n              this.addressDetails = response.addressDetails;\n              this.city = response.city;\n              this.state = response.state;\n              this.country = response.country;\n              this.phone = response.phoneNumber;\n              this.isAdmin = response.isAdmin;\n            })\n            .catch((err) => {\n              // Request failed\n              console.log(\"Erro: \" + err);\n            });\n        })\n        .catch((err) => {\n          err.json().then((error) => {\n            console.log(\"Erro: \" + err);\n          });\n        });\n    },\n  },\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}